(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{9799:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/schedule/create",function(){return t(2983)}])},2983:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var a=t(2322),c=t(3781),l=t(1074),s=t(3022),i=t(3639),o=t(3796),r=t(2078),u=t(340),d=t(1291),h=t(6502),f=t(8795),x=t(3619),j=t(8879),p=t.n(j),Z=t(5632),k=t(2784);function w(){let e=(0,Z.useRouter)(),[n,t]=(0,k.useState)(p()(Date.now())),[j,w]=(0,k.useState)("on"),_=async()=>{console.log(n,j);let t=p()(n),a="".concat(t.minute()," ").concat(t.hour()," * * *"),c="".concat(a," ").concat("bash /home/pi/firmware/apps/frontend/bin/util/gpio-".concat(j,".sh"));await (0,s.Z)(c),await (0,l.FS)({name:"cron-".concat(j),cron:c}).then(n=>{(0,s.Z)(n),e.push("/schedule")}).catch(e=>{(0,s.Z)(e)})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{styles:{"*":{fontSize:"12px",margin:"0px"}}}),(0,a.jsx)("h1",{className:"font-bold",children:"Create a scheduled event"}),(0,a.jsx)("p",{children:"This will create a scheduled event that will run at the specified time and date."}),(0,a.jsxs)(o.Z,{children:[(0,a.jsxs)(r.Z,{fullWidth:!0,children:[(0,a.jsx)(u.Z,{id:"task-label",children:"Task"}),(0,a.jsxs)(d.Z,{labelId:"task-label",id:"task-select",value:j,label:"Task",onChange:e=>{w(e.target.value)},children:[(0,a.jsx)(h.Z,{value:"on",children:"On"}),(0,a.jsx)(h.Z,{value:"off",children:"Off"})]})]}),(0,a.jsx)(x.d,{value:n,onChange:e=>{console.log(e,typeof e),t(e)}}),(0,a.jsxs)(f.ZP,{container:!0,spacing:2,justifyContent:"flex-end",children:[(0,a.jsx)(f.ZP,{item:!0,children:(0,a.jsx)(c.z,{variant:"outline",color:"secondary",onClick:()=>e.back(),children:"Cancel"})}),(0,a.jsx)(f.ZP,{item:!0,children:(0,a.jsx)(c.z,{onClick:_,children:"Create"})})]})]})]})}}},function(e){e.O(0,[339,351,561,888,774,179],function(){return e(e.s=9799)}),_N_E=e.O()}]);